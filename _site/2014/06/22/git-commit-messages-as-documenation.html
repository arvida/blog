<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Git commit messages as documentation</title>
  <meta name="description" content="Code is all about communicating with your computer and tell it what you want it to do. We also use it to tell our colleagues what we want the computer to do....">
  <meta name="google-site-verification" content="hSpvUvfiI4gbjIkE-nZd8otj75nYYr3bjL0kiNH1osg" />

  <link href='http://fonts.googleapis.com/css?family=Shanti' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://blog.arvidandersson.se/2014/06/22/git-commit-messages-as-documenation">
  <link rel="alternate" type="application/rss+xml" title="waiworinao ★ notes by arvid andersson" href="http://blog.arvidandersson.se/feed.xml" />

</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/">waiworinao ★ notes by arvid andersson</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        <a class="page-link" href="http://arvidandersson.se">About</a>
        <a class="page-link" href="https://twitter.com/arvid_a">@arvid_a</a>
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="post">

  <header class="post-header">
    <h1 class="post-title">Git commit messages as documentation</h1>
    <p class="post-meta">Jun 22, 2014</p>
  </header>

  <article class="post-content">
    <p>Code is all about communicating with your computer and tell it what you want it to do. We also use it to tell our colleagues what we want the computer to do. That is why we invented programming languages that are similar to our human languages.</p>

<p>But, code is hard to read and understand. In a large system it is often very difficult to follow the different paths through the code.</p>

<h2 id="we-have-different-tools-to-make-our-code-understandable">We have different tools to make our code understandable</h2>

<p>We write readable code and tests that document the way we expect our code to behave. If we are ambitious, we write comments that can generate documentation.</p>

<p>And then we have git. It is a very common distributed version control and source code management tool. Most people who work with development these days use git for version control.</p>

<p>The thing is that if you use the git the right way it will automatically give us a log that describes our source code. Right down to every single line.</p>

<h2 id="however-we-have-a-problem">However we have a problem</h2>

<p>Sometimes we don’t put that much energy into describing our code changes.</p>

<p>You often see commits with messages like</p>

<blockquote>
  <p>fix test</p>
</blockquote>

<p>or</p>

<blockquote>
  <p>Added some stats to dashboard</p>
</blockquote>

<p>or</p>

<blockquote>
  <p>:sob:</p>
</blockquote>

<p>The problem is when we 6 months later discovers a bug that was introduced in the commit <code class="highlighter-rouge">Added some stats to dashboard</code> which is 17 changed files with 231 lines added and 29 deleted lines. Then you stare at your screen and wonder what was going through your head when making all these changes.</p>

<p>If we would have just put a little a bit more time on describing the changes the code might have been a bit more easy to understand.</p>

<p>I and many others write commit messages like this sometimes. It is often because of habit, laziness and that you haven’t really thought about the great possibilities commit messages gives us.</p>

<h1 id="how-should-we-think-when-writing-commit-messages">How should we think when writing commit messages?</h1>

<p>The first step is to divide the work into smaller commits to make it possible to describe the change with a title and a few sentences. If it feels hard to describe the current code changes it is a good sign that is is time to divide the changes into smaller commits.</p>

<p>I have started to try to think of my commit messages as e-mail messages to myself that I will read in a year or so. Each commit message has a subject and a body. If there is a related issue in GitHub I include a reference to that in the commit message.</p>

<h2 id="the-commit-message-parts">The commit message parts</h2>

<p>A style that I think works well is this:</p>

<h3 id="first-a-subject">First a subject</h3>

<ul>
  <li>First start with a title or subject, which should be about 70 characters long. Most places where you can see the git commits expect that the topic is around 50 characters. GitHub has a display limit at 70 characters.</li>
  <li>If the commit has something to do with an issue and I will add a reference to the first on the subject</li>
  <li>The subject should be a short summary of the changes commiten done. Technical details can be saved to the content.</li>
  <li>The subject should not end with a period.</li>
  <li>The subject is the part of commiten shown most so it’s good to spend time to get it easily understandable and clear.</li>
</ul>

<h3 id="second-a-blank-line">Second a blank line</h3>

<h3 id="third-the-full-description">Third the full description</h3>

<p>Here, you write a little further description of the change.</p>

<ul>
  <li>What is the reason for the change.</li>
  <li>Why has chosen to do in a specific manner.</li>
  <li>Is there anything that can be useful to think about when you look at change, something that is not clear or easy to miss?</li>
  <li>Please use bullet points to make it clear.</li>
</ul>

<h1 id="tempus">Tempus</h1>

<p>There is a saying that one should write the commit messages in the imperative form. That means that you express yourself solicitation, eg the use of “fix” instead of “fixed” or “add” instead of “added”.</p>

<p>One can say that there are two strong wins to using imperative.</p>

<p>First, it is so git expresses itself when the automatic commit messages such as “Merge branch ‘master’ of github.com: example / app”. And it is for that describes what changes does when it is applied, not to what it was doing or what is going to happen but this does.
2nd And they decided a tense makes it unnecessary to consider every time.</p>

<h1 id="clearance">Clearance</h1>

<p>There is no way that is more right or wrong.</p>

<p>But I have noticed that when I put more time on my commit messages, I have to reflect more on the changes I make in a project. One can imagine an extraordinary time and it increases quality and it becomes small cohesive commits.</p>

<p>It becomes incredibly very pleasant to walk through a git log that actually talks about change and not only that something has happened.</p>

<p>The main thing I think is to realize which fanatically tools git is and how to use the commit messages as a tool to document and understand a project’s history.</p>

<h1 id="resources">Resources</h1>

<p>Tim Pope: “A Note About Git Commit Messages”
http://tbaggery.com/2008/04/19/a-note-about-git-commit-messages.html</p>

<p>Guidelines for making patched to Git
http://git.kernel.org/cgit/git/git.git/tree/Documentation/SubmittingPatches</p>

  </article>


  <div id="disqus_thread" style="clear:both;"></div>
  <script type="text/javascript" src="http://disqus.com/forums/blog-arvidandersson/embed.js"></script>
  <noscript>
    <a href="http://disqus.com/forums/blog-arvidandersson/?url=ref">View the discussion thread.</a>
  </noscript>
  <a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>

</div>

      </div>
    </div>

    <footer class="site-footer">
  <div class="wrapper">
    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p>waiworinao ★ a blog by <a href="http://arvidandersson.se/">Arvid Andersson</a></p>
      </div>

    </div>
  </div>
</footer>


<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-20637790-3', 'arvidandersson.se');
ga('require', 'displayfeatures');
ga('send', 'pageview');
</script>


  </body>

</html>
