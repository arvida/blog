<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Using the shell for fun and profit</title>
  <meta name="description" content="A few basic shortcuts and commands I have picked up over the years that have helped me become more efficient when working in a *nix shell.">
  <meta name="google-site-verification" content="hSpvUvfiI4gbjIkE-nZd8otj75nYYr3bjL0kiNH1osg" />

  <link href='http://fonts.googleapis.com/css?family=Shanti' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://blog.arvidandersson.se/2012/02/08/shelling-out">
  <link rel="alternate" type="application/rss+xml" title="waiworinao ★ notes by arvid andersson" href="http://blog.arvidandersson.se/feed.xml" />

</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/">waiworinao ★ notes by arvid andersson</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        <a class="page-link" href="http://arvidandersson.se">About</a>
        <a class="page-link" href="https://twitter.com/arvid_a">@arvid_a</a>
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="post">

  <header class="post-header">
    <h1 class="post-title">Using the shell for fun and profit</h1>
    <p class="post-meta">Feb 8, 2012</p>
  </header>

  <article class="post-content">
    <p>A few basic shortcuts and commands I have picked up over the years that have helped me become more efficient when working in a *nix shell.</p>

<p><em>The shortcuts and commands in this post should work with both <a href="http://www.gnu.org/software/bash/bash.html">bash</a> and <a href="http://www.zsh.org/">zsh</a>.</em></p>

<h2 id="moving">Moving</h2>

<div class="highlighter-rouge"><pre class="highlight"><code>CTRL-a
</code></pre>
</div>

<p>Move to the beginning of line.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>CTRL-e
</code></pre>
</div>

<p>Move to the end of line.</p>

<h2 id="searching">Searching</h2>

<div class="highlighter-rouge"><pre class="highlight"><code>CTRL-r
</code></pre>
</div>

<p>This will let you search through the history of commands you have entered. The phrase you search for doesn’t have to be in beginning of the command your looking for, so you can search for commands by entering arguments or filenames. If the first match you get is not the command your looking for just hit CTRL-r again and will move to the previous match.</p>

<p>This is very useful if you do a lot of logging in and out of servers by SSH; just hit <code class="highlighter-rouge">CTRL-r</code>, start typing a part of the hostname or username, hit <code class="highlighter-rouge">ENTER</code> and bang - you’re connecting to the server.</p>

<h2 id="backgrounding">Backgrounding</h2>

<div class="highlighter-rouge"><pre class="highlight"><code>CTRL-z
</code></pre>
</div>

<p>This will bring the current application running in the shell to the background. To bring back the backgrounded application use the command <code class="highlighter-rouge">fg</code>.</p>

<p>I use this a lot when I am working in vim and need to do a few shell commands, much faster than splitting the window or opening up a new tab.</p>

<h2 id="repeating">Repeating</h2>

<div class="highlighter-rouge"><pre class="highlight"><code>$ !!
</code></pre>
</div>

<p>Use the <code class="highlighter-rouge">!!</code> command to repeat the last command you ran, just like doing <code class="highlighter-rouge">up-arrow + enter</code> on the keyboard.</p>

<p>I am using this by binding <code class="highlighter-rouge">!!\n</code> to a convenient key combination so I don’t have to move over the arrow keys to repeat the last command. You can easily create key combinations for stuff like this in <a href="http://www.iterm2.com/">iTerm2</a> by opening Preferences &gt; Profiles &gt; Keys and adding a shortcut with action set to ”Send Text” and ”!!\n”.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ !ssh
</code></pre>
</div>

<p>This will repeat the most recent command you entered that started with ”ssh”.</p>

<p><em>If you are using <a href="https://github.com/robbyrussell/oh-my-zsh">oh-my-zsh</a> this won’t work by default, to enable you have to remove the line that says <code class="highlighter-rouge">setopt hist_verify</code> in <code class="highlighter-rouge">~/.oh-my-zsh/lib/history.zsh</code>.</em></p>

<h2 id="chaining">Chaining</h2>

<div class="highlighter-rouge"><pre class="highlight"><code>$ a-long-running-command &amp;&amp; command-depending-on-the-first-one
</code></pre>
</div>

<p>Your can chain commands by putting them on the same line and using either <code class="highlighter-rouge">;</code> or <code class="highlighter-rouge">&amp;&amp;</code> to separate them. The problem with <code class="highlighter-rouge">;</code> is that it will run all the commands  no matter what happens and the great thing with <code class="highlighter-rouge">&amp;&amp;</code> is that it will stop if one of the commands fail.</p>

<p>This is really useful when you are working with tasks that will take some time to finish and is dependent of each others success. To illustrate:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ mkdir hello
$ mkdir hello &amp;&amp; echo "I created hello"    
mkdir: hello: File exists
$
</code></pre>
</div>

<h2 id="opening">Opening</h2>

<div class="highlighter-rouge"><pre class="highlight"><code>$ open .
$ open image.jpg
</code></pre>
</div>

<p>On Mac OS X there is a command called <code class="highlighter-rouge">open</code>, you can use this to open up a directory or a file like it would have happened if you had double clicked on it in the Finder.</p>

<h1 id="notes">Notes</h1>

<p>Most of the shortcuts in the shell are made possible by the great <a href="http://tiswww.case.edu/php/chet/readline/rltop.html">GNU Readline Library</a>, this library is used in many other shell applications which makes the shortcuts available in those as well.</p>

<p>There are of course loads of more short cuts and useful commands to learn. Bash has been around for over 20 years so there has been a few people documenting the features. For example <a href="http://en.wikipedia.org/wiki/Bash_\(Unix_shell\)#Keyboard_shortcuts">Wikipedia</a> is pretty good starting point for the different keyboard short cuts available in bash.</p>

<p>If you are a Vim user you will probably like <a href="http://www.hypexr.org/bash_tutorial.php#vi">vi mode</a> for your shell. With this you can use the commands you know from vim to edit the command line.</p>

  </article>


  <div id="disqus_thread" style="clear:both;"></div>
  <script type="text/javascript" src="http://disqus.com/forums/blog-arvidandersson/embed.js"></script>
  <noscript>
    <a href="http://disqus.com/forums/blog-arvidandersson/?url=ref">View the discussion thread.</a>
  </noscript>
  <a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>

</div>

      </div>
    </div>

    <footer class="site-footer">
  <div class="wrapper">
    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p>waiworinao ★ a blog by <a href="http://arvidandersson.se/">Arvid Andersson</a></p>
      </div>

    </div>
  </div>
</footer>


<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-20637790-3', 'arvidandersson.se');
ga('require', 'displayfeatures');
ga('send', 'pageview');
</script>


  </body>

</html>
